<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cyber Window - Bruneton Sky (Level 0 + Sun-1)</title>
    <style>
      html, body, #app { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#000; }
      .fps { position:fixed; left:8px; bottom:8px; color:#ccc; font:12px/1.2 monospace; }
      .hud { position:fixed; left:8px; top:8px; display:flex; gap:8px; z-index:10; }
      .hud button {
        padding:6px 10px;
        border:1px solid #444;
        background:#111;
        color:#ddd;
        border-radius:4px;
        cursor:pointer;
        font:12px/1.2 monospace;
      }
      .hud button:hover { background:#1a1a1a; }
      #run-demo {
        border-color:#4ac0ff;
        color:#c9ecff;
        box-shadow:0 0 0 1px rgba(74,192,255,0.35);
      }

      /* Immersive mode hides UI chrome */
      body.immersive .hud,
      body.immersive .fps,
      body.immersive .lil-gui { display:none !important; }

      .immersive-hint {
        position:fixed;
        top:12px;
        right:12px;
        padding:10px 12px;
        background:rgba(0,0,0,0.65);
        color:#ddd;
        font:12px/1.4 monospace;
        border:1px solid #333;
        border-radius:6px;
        z-index:11;
        display:none;
      }
      body.immersive .immersive-hint { display:block; }

      #fade-overlay {
        position:fixed;
        inset:0;
        background:#000;
        pointer-events:none;
        opacity:0;
        transition:opacity 1s ease;
        z-index:9;
      }
      .subtitles {
        position:fixed;
        left:50%;
        bottom:24px;
        transform:translateX(-50%);
        padding:10px 14px;
        background:linear-gradient(135deg, rgba(0,0,0,0.75), rgba(8,24,36,0.7));
        border:1px solid rgba(90,170,255,0.35);
        border-radius:10px;
        color:#d8f1ff;
        font:13px/1.4 "IBM Plex Mono","SFMono-Regular",Consolas,monospace;
        letter-spacing:0.2px;
        box-shadow:0 12px 30px rgba(0,0,0,0.35);
        opacity:0;
        transform:translate(-50%, 12px);
        transition:opacity 0.3s ease, transform 0.3s ease;
        z-index:11;
        min-width:260px;
      }
      .subtitles.show { opacity:0.95; transform:translate(-50%, 0); }
      .subtitles .subtitle-main { font-weight:600; font-size:14px; color:#eaffff; }
      .subtitles .subtitle-status { color:#9dd9ff; margin-top:3px; font-size:13px; }

      .param-notice {
        position:fixed;
        right:12px;
        top:12px;
        padding:9px 12px;
        background:rgba(8,20,32,0.85);
        color:#d8f1ff;
        font:12px/1.3 "IBM Plex Mono","SFMono-Regular",Consolas,monospace;
        border:1px solid rgba(74,192,255,0.4);
        border-radius:8px;
        box-shadow:0 10px 22px rgba(0,0,0,0.35);
        opacity:0;
        transform:translateY(-8px);
        transition:opacity 0.35s ease, transform 0.35s ease;
        z-index:12;
        pointer-events:none;
      }
      .param-notice.show {
        opacity:1;
        transform:translateY(0);
      }

      /* Flash control highlight when auto-updated */
      .lil-gui .controller.flash-notice {
        box-shadow:0 0 0 1px #48c3ff, 0 0 12px rgba(72,195,255,0.6) inset;
        background:rgba(35,86,122,0.28);
      }
    </style>
  </head>
  <body>
    <div id="app"></div>
    <div class="hud">
      <button id="snap-sun">Snap to Sun</button>
      <button id="immersive-toggle">Enter Immersive</button>
      <button id="run-demo">Demonstration</button>
    </div>
    <div class="fps" id="fps"></div>
    <div class="immersive-hint" id="immersive-hint">
      Immersive mode: press Esc to exit.
    </div>
    <div id="fade-overlay"></div>
    <div id="subtitles" class="subtitles">
      <div id="subtitle-1" class="subtitle-main"></div>
      <div id="subtitle-2" class="subtitle-status"></div>
    </div>
    <div id="param-notice" class="param-notice"></div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
